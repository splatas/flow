#!/usr/bin/env node
const got = require('got')
const env = process.env.NODE_ENV || 'local'

const TEST_ACCOUNT = process.env.TEST_ACCOUNT
const TEST_ACCOUNT_PRE = process.env.TEST_ACCOUNT_PRE
const TEST_PASS = process.env.TEST_PASS
const TEST_PASS_PRE = process.env.TEST_PASS_PRE

const fixtures = {
  prod: {
    api: 'https://web.flow.com.ar/auth/v2',
    user: TEST_ACCOUNT,
    pass: TEST_PASS,
    minerva: 'http://geo.mnedge.cvattv.com.ar:7780/xtv-ws-client/api',
    token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjp7ImFjY291bnRJZCI6IjMyMDY2MTAiLCJ0b2tlbiI6ImV5SjBlWEFpT2lKS1YxUWlMQ0poYkdjaU9pSklVekkxTmlKOS5leUpqZFhOMGIyMWxja2xrSWpvaU9Ea3pPRFE1SWl3aVpYaHdJam94TlRjeE5UQTVORGt6TENKaFkyTnZkVzUwU1dRaU9pSXpNakEyTmpFd0lpd2ljbVZuYVc5dVNXUWlPaUl4SWl3aVpHVjJhV05sSWpwN0ltUmxkbWxqWlVsa0lqb2lNVE0wTlRBMU1UQWlMQ0prWlhacFkyVlVlWEJsSWpvaVkyeHZkV1JmWTJ4cFpXNTBJaXdpYVhCQlpHUnlaWE56SWpvaU1qQXhMakl4TWk0eE56WXVPRGdpTENKa1pYWnBZMlZPWVcxbElqb2lUR2x1ZFhnZ2VEZzJYelkwSWl3aWJXRmpRV1JrY21WemN5STZJa0l4TVVVME5EZzRSRGszUkNJc0luTmxjbWxoYkU1MWJXSmxjaUk2SWlJc0luTjBZWFIxY3lJNklrRWlMQ0oxZFdsa0lqb2lRakV4UlRRME9EaEVPVGRFTkVNMk5FTTJRemt3TkRReE0wTkVRMEV5UmpZaWZYMC5mdTVXYzdVS1dsMG84RzNfbThMR0phNzRQRURQdV9peW1EREVlcDh5NGo4IiwiZm9sbG93Ijp7InByaW1hcnkiOnsiaWQiOiIzMjA2NjEwIiwicGluIjoiMTIzNCJ9LCJjdXN0b21lcklkIjoiODkzODQ5IiwiYWNjb3VudElkIjoiMzIwNjYxMCIsImRldmljZUlkIjoiMTM0NTA1MTAiLCJwdXJjaGFzZUFsbG93ZWQiOnRydWUsImFuYWx5dGljcyI6eyJob3N0IjoibWluZXJ2YS1zYWFzMS0xOTM5MjY4NTIudXMtZWFzdC0xLmVsYi5hbWF6b25hd3MuY29tIiwicG9ydCI6IjgwODAiLCJtYXhFdmVudHMiOjUsInRpbWVvdXQiOjEsImtleSI6IjZlZDctMjIzZC00NjMxLThiYjUiLCJzZXJ2aWNlUHJvdmlkZXJJZCI6ImN2YWxhYiIsInZlcnNpb24iOiIyLjAiLCJyYW5kb21pemF0aW9uV2luZG93IjoxODB9LCJwcm0iOnsiaG9zdCI6Imh0dHBzOi8vMjAwLjg5LjE5MS43Mjo5MDYwL3BvbGljeV9tYW5hZ2VyL3YzL3JlZ2lzdGVyLyJ9LCJycyI6eyJob3N0IjoiaHR0cHM6Ly8yMDAuODkuMTkxLjcyOjQ0NDYveHR2c2NoZWR1bGUvcmVzdC8ifSwibXNjcyI6eyJob3N0IjoiaHR0cDovLzIwMC44OS4xOTEuMjM6ODAveHR2LW1zY3MtY2xpZW50L21zY3MvYXBpLyIsInRva2VuIjoicUpIZjliZ2N5L0x6a0RBWURKd01GcFp1aEY5cVFvLy9nT0RGWHV3NDM1MGNVaVlrWFFLSUJBRGU2azFFbHhTZ2o3NDNRcW81WVdSckZQdm1IYUZqZXdLTWxTQ3YyYWlPU2RYSjhXUHdMajA9In0sImxvY2FsaXphdGlvbklkIjoiMSIsImNsaWVudENhc0lkIjoiYTEyZTk0ZmMzYmZhNWRkM2I3ZDBhMWEwZjVkYzEwZWQifSwiZGV2aWNlSW5mbyI6eyJkZXZpY2VOYW1lIjoiTGludXggeDg2XzY0IiwidHlwZSI6IkNWQSIsImRldmljZU1vZGVsIjoiUEMiLCJkZXZpY2VCcmFuZCI6IiIsImZpcm13YXJlVmVyc2lvbiI6IiIsImRldmljZU9zVmVyc2lvbiI6IjEuOS4xIiwiaXBBZGRyZXNzIjoiMjAxLjIxMi4xNzYuODgiLCJjYXNJZCI6ImExMmU5NGZjM2JmYTVkZDNiN2QwYTFhMGY1ZGMxMGVkIiwidXVpZCI6ImIxMWU0NDg4ZDk3ZDRjNjRjNmM5MDQ0MTNjZGNhMmY2IiwibWFjIjoiYjExZTQ0ODhkOTdkIiwiYXBwVmVyc2lvbiI6IjEuOS4xIiwiZGV2aWNlVHlwZSI6ImNsb3VkX2NsaWVudCIsIm5ldHdvcmtUeXBlIjoiQnJvYWRiYW5kIiwiZGV2aWNlT3MiOiJXaW5kb3dzUEMiLCJwbGF5ZXJUeXBlIjoiVmlzdWFsT24ifSwiZGV2aWNlVG9rZW4iOiJleUowZVhBaU9pSktWMVFpTENKaGJHY2lPaUpJVXpJMU5pSjkuZXlKamRYTjBiMjFsY2tsa0lqb2lPRGt6T0RRNUlpd2laWGh3SWpvd0xDSmtaWFpwWTJWSlpDSTZJakV6TkRVd05URXdJaXdpYldGalFXUmtjbVZ6Y3lJNkltSXhNV1UwTkRnNFpEazNaQ0o5LnVrS1AxZUh5S2lWMWpkeG1pSTdzT1JKOEkzcE54cUhwNFM2RXBHQWdFc2MifSwiaWF0IjoxNTcxNDIzMDkzfQ.h30Drqh1uAKqNnBxOE4oEyz3rNhoFweJLuWOp2ZDvEo',
    accountId: 3206610,
  },
  preprod: {
    api: 'https://web-prepro.flow.com.ar/auth/v2',
    user: TEST_ACCOUNT_PRE,
    pass: TEST_PASS_PRE,
    minerva: 'http://geo.mnedge.prepro.cvattv.com.ar:7780/xtv-ws-client/api',
    token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjp7ImFjY291bnRJZCI6IjUyNCIsInRva2VuIjoiZXlKMGVYQWlPaUpLVjFRaUxDSmhiR2NpT2lKSVV6STFOaUo5LmV5SmpkWE4wYjIxbGNrbGtJam9pT1RrNU1EUXhJaXdpWlhod0lqb3hOVGN4TnpRNU9EazFMQ0poWTJOdmRXNTBTV1FpT2lJMU1qUWlMQ0p5WldkcGIyNUpaQ0k2SWpJaUxDSmtaWFpwWTJVaU9uc2laR1YyYVdObFNXUWlPaUl4TVRJMk56UWlMQ0prWlhacFkyVlVlWEJsSWpvaVkyeHZkV1JmWTJ4cFpXNTBJaXdpYVhCQlpHUnlaWE56SWpvaU1qQXdMalE1TGpFMU9TNHhNREFpTENKa1pYWnBZMlZPWVcxbElqb2lUR2x1ZFhnZ2VEZzJYelkwSWl3aWJXRmpRV1JrY21WemN5STZJalpCUTBVd1FqY3pPVEZCUWlJc0luTmxjbWxoYkU1MWJXSmxjaUk2SWlJc0luTjBZWFIxY3lJNklrRWlMQ0oxZFdsa0lqb2lOa0ZEUlRCQ056TTVNVUZDUmtFMlJqRkJNVFpCUXpneU5UVkJSVVExTURFaWZYMC5SQ3dYQ1pIa0VYV0x2VTBTS3FFTnFtM2xZZGJCdGdGTGJlVzFZZEV2UzRzIiwiZm9sbG93Ijp7InByaW1hcnkiOnsiaWQiOiI1MjQiLCJwaW4iOiIxMjM0In0sImN1c3RvbWVySWQiOiI5OTkwNDEiLCJhY2NvdW50SWQiOiI1MjQiLCJkZXZpY2VJZCI6IjExMjY3NCIsInB1cmNoYXNlQWxsb3dlZCI6dHJ1ZSwiYW5hbHl0aWNzIjp7Imhvc3QiOiJtaW5lcnZhLXNhYXMxLTE5MzkyNjg1Mi51cy1lYXN0LTEuZWxiLmFtYXpvbmF3cy5jb20iLCJwb3J0IjoiODA4MCIsIm1heEV2ZW50cyI6NSwidGltZW91dCI6MSwia2V5IjoiNzM0MC0yNGNiLTRiNmItYjlhNyIsInNlcnZpY2VQcm92aWRlcklkIjoiY3ZhcHJlcHJvZCIsInZlcnNpb24iOiIyLjAiLCJyYW5kb21pemF0aW9uV2luZG93IjoxODB9LCJwcm0iOnsiaG9zdCI6Imh0dHBzOi8vdmlwcHJtLnByZXByby5jdmF0dHYuY29tLmFyOjkwNjAvcG9saWN5X21hbmFnZXIvdjMvcmVnaXN0ZXIvIn0sInJzIjp7Imhvc3QiOiJodHRwczovLzIwMC44OS4xOTAuNzI6NDQ0Ni94dHZzY2hlZHVsZS9yZXN0LyJ9LCJtc2NzIjp7Imhvc3QiOiJodHRwOi8vMjAwLjg5LjE5MC4yMzo4MC94dHYtbXNjcy1jbGllbnQvbXNjcy9hcGkvIiwidG9rZW4iOiIyMFcwQXlUMlkvZUJ2UnBPcDVvak1GdE5PSUR5d2NDWHRtVGRyNTZCWFVLNkJhVkp5QzEvdjBGOC9HVWlWTGNWSmgzU2dHZC8vNzBrb3ZOejZUS3ptZz09In0sImxvY2FsaXphdGlvbklkIjoiMiIsImNsaWVudENhc0lkIjoiMGQyZTVmZmFhYTlmZTZiNWZkNGVmYzIzNDg4NmQzY2YifSwiZGV2aWNlSW5mbyI6eyJkZXZpY2VOYW1lIjoiTGludXggeDg2XzY0IiwidHlwZSI6IkNWQSIsImRldmljZU1vZGVsIjoiUEMiLCJkZXZpY2VCcmFuZCI6IiIsImZpcm13YXJlVmVyc2lvbiI6IiIsImRldmljZU9zVmVyc2lvbiI6IjEuMTAuMCIsImlwQWRkcmVzcyI6IjEwLjIwMC4xOTAuNjAiLCJjYXNJZCI6IjBkMmU1ZmZhYWE5ZmU2YjVmZDRlZmMyMzQ4ODZkM2NmIiwidXVpZCI6IjZhY2UwYjczOTFhYmZhNmYxYTE2YWM4MjU1YWVkNTAxIiwibWFjIjoiNmFjZTBiNzM5MWFiIiwiYXBwVmVyc2lvbiI6IjEuMTAuMCIsImRldmljZVR5cGUiOiJjbG91ZF9jbGllbnQiLCJuZXR3b3JrVHlwZSI6IkJyb2FkYmFuZCIsImRldmljZU9zIjoiV2luZG93c1BDIiwicGxheWVyVHlwZSI6IlZpc3VhbE9uIn0sImRldmljZVRva2VuIjoiZXlKMGVYQWlPaUpLVjFRaUxDSmhiR2NpT2lKSVV6STFOaUo5LmV5SmpkWE4wYjIxbGNrbGtJam9pT1RrNU1EUXhJaXdpWlhod0lqb3dMQ0prWlhacFkyVkpaQ0k2SWpFeE1qWTNOQ0lzSW0xaFkwRmtaSEpsYzNNaU9pSTJZV05sTUdJM016a3hZV0lpZlEucUZUQkEzTTlkRFlKLWZ2WmpyNWRpcWlpQjNaTERqcGdEei1VM1M2OTFmZyJ9LCJpYXQiOjE1NzE2NjM0OTV9.RkfYzQwTHCintmxTeTy8VQsZ2RmG_Q0zDsTD0HzeZP4',
    accountId: 524,
  },
  staging: {
    api: 'https://web-ff-stg.cablevisionflow.com.ar/auth/v2',
    user: TEST_ACCOUNT,
    pass: TEST_PASS,
    minerva: 'http://geo.mnedge.cvattv.com.ar:7780/xtv-ws-client/api',
    token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjp7ImFjY291bnRJZCI6IjMyMDY2MTAiLCJ0b2tlbiI6ImV5SjBlWEFpT2lKS1YxUWlMQ0poYkdjaU9pSklVekkxTmlKOS5leUpqZFhOMGIyMWxja2xrSWpvaU9Ea3pPRFE1SWl3aVpYaHdJam94TlRjeE5UQTVORGt6TENKaFkyTnZkVzUwU1dRaU9pSXpNakEyTmpFd0lpd2ljbVZuYVc5dVNXUWlPaUl4SWl3aVpHVjJhV05sSWpwN0ltUmxkbWxqWlVsa0lqb2lNVE0wTlRBMU1UQWlMQ0prWlhacFkyVlVlWEJsSWpvaVkyeHZkV1JmWTJ4cFpXNTBJaXdpYVhCQlpHUnlaWE56SWpvaU1qQXhMakl4TWk0eE56WXVPRGdpTENKa1pYWnBZMlZPWVcxbElqb2lUR2x1ZFhnZ2VEZzJYelkwSWl3aWJXRmpRV1JrY21WemN5STZJa0l4TVVVME5EZzRSRGszUkNJc0luTmxjbWxoYkU1MWJXSmxjaUk2SWlJc0luTjBZWFIxY3lJNklrRWlMQ0oxZFdsa0lqb2lRakV4UlRRME9EaEVPVGRFTkVNMk5FTTJRemt3TkRReE0wTkVRMEV5UmpZaWZYMC5mdTVXYzdVS1dsMG84RzNfbThMR0phNzRQRURQdV9peW1EREVlcDh5NGo4IiwiZm9sbG93Ijp7InByaW1hcnkiOnsiaWQiOiIzMjA2NjEwIiwicGluIjoiMTIzNCJ9LCJjdXN0b21lcklkIjoiODkzODQ5IiwiYWNjb3VudElkIjoiMzIwNjYxMCIsImRldmljZUlkIjoiMTM0NTA1MTAiLCJwdXJjaGFzZUFsbG93ZWQiOnRydWUsImFuYWx5dGljcyI6eyJob3N0IjoibWluZXJ2YS1zYWFzMS0xOTM5MjY4NTIudXMtZWFzdC0xLmVsYi5hbWF6b25hd3MuY29tIiwicG9ydCI6IjgwODAiLCJtYXhFdmVudHMiOjUsInRpbWVvdXQiOjEsImtleSI6IjZlZDctMjIzZC00NjMxLThiYjUiLCJzZXJ2aWNlUHJvdmlkZXJJZCI6ImN2YWxhYiIsInZlcnNpb24iOiIyLjAiLCJyYW5kb21pemF0aW9uV2luZG93IjoxODB9LCJwcm0iOnsiaG9zdCI6Imh0dHBzOi8vMjAwLjg5LjE5MS43Mjo5MDYwL3BvbGljeV9tYW5hZ2VyL3YzL3JlZ2lzdGVyLyJ9LCJycyI6eyJob3N0IjoiaHR0cHM6Ly8yMDAuODkuMTkxLjcyOjQ0NDYveHR2c2NoZWR1bGUvcmVzdC8ifSwibXNjcyI6eyJob3N0IjoiaHR0cDovLzIwMC44OS4xOTEuMjM6ODAveHR2LW1zY3MtY2xpZW50L21zY3MvYXBpLyIsInRva2VuIjoicUpIZjliZ2N5L0x6a0RBWURKd01GcFp1aEY5cVFvLy9nT0RGWHV3NDM1MGNVaVlrWFFLSUJBRGU2azFFbHhTZ2o3NDNRcW81WVdSckZQdm1IYUZqZXdLTWxTQ3YyYWlPU2RYSjhXUHdMajA9In0sImxvY2FsaXphdGlvbklkIjoiMSIsImNsaWVudENhc0lkIjoiYTEyZTk0ZmMzYmZhNWRkM2I3ZDBhMWEwZjVkYzEwZWQifSwiZGV2aWNlSW5mbyI6eyJkZXZpY2VOYW1lIjoiTGludXggeDg2XzY0IiwidHlwZSI6IkNWQSIsImRldmljZU1vZGVsIjoiUEMiLCJkZXZpY2VCcmFuZCI6IiIsImZpcm13YXJlVmVyc2lvbiI6IiIsImRldmljZU9zVmVyc2lvbiI6IjEuOS4xIiwiaXBBZGRyZXNzIjoiMjAxLjIxMi4xNzYuODgiLCJjYXNJZCI6ImExMmU5NGZjM2JmYTVkZDNiN2QwYTFhMGY1ZGMxMGVkIiwidXVpZCI6ImIxMWU0NDg4ZDk3ZDRjNjRjNmM5MDQ0MTNjZGNhMmY2IiwibWFjIjoiYjExZTQ0ODhkOTdkIiwiYXBwVmVyc2lvbiI6IjEuOS4xIiwiZGV2aWNlVHlwZSI6ImNsb3VkX2NsaWVudCIsIm5ldHdvcmtUeXBlIjoiQnJvYWRiYW5kIiwiZGV2aWNlT3MiOiJXaW5kb3dzUEMiLCJwbGF5ZXJUeXBlIjoiVmlzdWFsT24ifSwiZGV2aWNlVG9rZW4iOiJleUowZVhBaU9pSktWMVFpTENKaGJHY2lPaUpJVXpJMU5pSjkuZXlKamRYTjBiMjFsY2tsa0lqb2lPRGt6T0RRNUlpd2laWGh3SWpvd0xDSmtaWFpwWTJWSlpDSTZJakV6TkRVd05URXdJaXdpYldGalFXUmtjbVZ6Y3lJNkltSXhNV1UwTkRnNFpEazNaQ0o5LnVrS1AxZUh5S2lWMWpkeG1pSTdzT1JKOEkzcE54cUhwNFM2RXBHQWdFc2MifSwiaWF0IjoxNTcxNDIzMDkzfQ.h30Drqh1uAKqNnBxOE4oEyz3rNhoFweJLuWOp2ZDvEo',
    accountId: 3206610,
  },
  develop: {
    api: 'https://gw-ff-dev.cablevisionflow.com.ar/auth/v2',
    minerva: 'http://geo.mnedge.cvattv.com.ar:7780/xtv-ws-client/api',
    token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjp7ImFjY291bnRJZCI6IjMyMDY2MTAiLCJ0b2tlbiI6ImV5SjBlWEFpT2lKS1YxUWlMQ0poYkdjaU9pSklVekkxTmlKOS5leUpqZFhOMGIyMWxja2xrSWpvaU9Ea3pPRFE1SWl3aVpYaHdJam94TlRjeE5UQTVORGt6TENKaFkyTnZkVzUwU1dRaU9pSXpNakEyTmpFd0lpd2ljbVZuYVc5dVNXUWlPaUl4SWl3aVpHVjJhV05sSWpwN0ltUmxkbWxqWlVsa0lqb2lNVE0wTlRBMU1UQWlMQ0prWlhacFkyVlVlWEJsSWpvaVkyeHZkV1JmWTJ4cFpXNTBJaXdpYVhCQlpHUnlaWE56SWpvaU1qQXhMakl4TWk0eE56WXVPRGdpTENKa1pYWnBZMlZPWVcxbElqb2lUR2x1ZFhnZ2VEZzJYelkwSWl3aWJXRmpRV1JrY21WemN5STZJa0l4TVVVME5EZzRSRGszUkNJc0luTmxjbWxoYkU1MWJXSmxjaUk2SWlJc0luTjBZWFIxY3lJNklrRWlMQ0oxZFdsa0lqb2lRakV4UlRRME9EaEVPVGRFTkVNMk5FTTJRemt3TkRReE0wTkVRMEV5UmpZaWZYMC5mdTVXYzdVS1dsMG84RzNfbThMR0phNzRQRURQdV9peW1EREVlcDh5NGo4IiwiZm9sbG93Ijp7InByaW1hcnkiOnsiaWQiOiIzMjA2NjEwIiwicGluIjoiMTIzNCJ9LCJjdXN0b21lcklkIjoiODkzODQ5IiwiYWNjb3VudElkIjoiMzIwNjYxMCIsImRldmljZUlkIjoiMTM0NTA1MTAiLCJwdXJjaGFzZUFsbG93ZWQiOnRydWUsImFuYWx5dGljcyI6eyJob3N0IjoibWluZXJ2YS1zYWFzMS0xOTM5MjY4NTIudXMtZWFzdC0xLmVsYi5hbWF6b25hd3MuY29tIiwicG9ydCI6IjgwODAiLCJtYXhFdmVudHMiOjUsInRpbWVvdXQiOjEsImtleSI6IjZlZDctMjIzZC00NjMxLThiYjUiLCJzZXJ2aWNlUHJvdmlkZXJJZCI6ImN2YWxhYiIsInZlcnNpb24iOiIyLjAiLCJyYW5kb21pemF0aW9uV2luZG93IjoxODB9LCJwcm0iOnsiaG9zdCI6Imh0dHBzOi8vMjAwLjg5LjE5MS43Mjo5MDYwL3BvbGljeV9tYW5hZ2VyL3YzL3JlZ2lzdGVyLyJ9LCJycyI6eyJob3N0IjoiaHR0cHM6Ly8yMDAuODkuMTkxLjcyOjQ0NDYveHR2c2NoZWR1bGUvcmVzdC8ifSwibXNjcyI6eyJob3N0IjoiaHR0cDovLzIwMC44OS4xOTEuMjM6ODAveHR2LW1zY3MtY2xpZW50L21zY3MvYXBpLyIsInRva2VuIjoicUpIZjliZ2N5L0x6a0RBWURKd01GcFp1aEY5cVFvLy9nT0RGWHV3NDM1MGNVaVlrWFFLSUJBRGU2azFFbHhTZ2o3NDNRcW81WVdSckZQdm1IYUZqZXdLTWxTQ3YyYWlPU2RYSjhXUHdMajA9In0sImxvY2FsaXphdGlvbklkIjoiMSIsImNsaWVudENhc0lkIjoiYTEyZTk0ZmMzYmZhNWRkM2I3ZDBhMWEwZjVkYzEwZWQifSwiZGV2aWNlSW5mbyI6eyJkZXZpY2VOYW1lIjoiTGludXggeDg2XzY0IiwidHlwZSI6IkNWQSIsImRldmljZU1vZGVsIjoiUEMiLCJkZXZpY2VCcmFuZCI6IiIsImZpcm13YXJlVmVyc2lvbiI6IiIsImRldmljZU9zVmVyc2lvbiI6IjEuOS4xIiwiaXBBZGRyZXNzIjoiMjAxLjIxMi4xNzYuODgiLCJjYXNJZCI6ImExMmU5NGZjM2JmYTVkZDNiN2QwYTFhMGY1ZGMxMGVkIiwidXVpZCI6ImIxMWU0NDg4ZDk3ZDRjNjRjNmM5MDQ0MTNjZGNhMmY2IiwibWFjIjoiYjExZTQ0ODhkOTdkIiwiYXBwVmVyc2lvbiI6IjEuOS4xIiwiZGV2aWNlVHlwZSI6ImNsb3VkX2NsaWVudCIsIm5ldHdvcmtUeXBlIjoiQnJvYWRiYW5kIiwiZGV2aWNlT3MiOiJXaW5kb3dzUEMiLCJwbGF5ZXJUeXBlIjoiVmlzdWFsT24ifSwiZGV2aWNlVG9rZW4iOiJleUowZVhBaU9pSktWMVFpTENKaGJHY2lPaUpJVXpJMU5pSjkuZXlKamRYTjBiMjFsY2tsa0lqb2lPRGt6T0RRNUlpd2laWGh3SWpvd0xDSmtaWFpwWTJWSlpDSTZJakV6TkRVd05URXdJaXdpYldGalFXUmtjbVZ6Y3lJNkltSXhNV1UwTkRnNFpEazNaQ0o5LnVrS1AxZUh5S2lWMWpkeG1pSTdzT1JKOEkzcE54cUhwNFM2RXBHQWdFc2MifSwiaWF0IjoxNTcxNDIzMDkzfQ.h30Drqh1uAKqNnBxOE4oEyz3rNhoFweJLuWOp2ZDvEo',
    accountId: 3206610,
  }
}

fixtures.local = JSON.parse(JSON.stringify(fixtures.develop))

const body = { accountId: fixtures[env].accountId }
const headers = {
  authorization: 'Bearer ' + fixtures[env].token
}

const url = fixtures[env].api + '/provision/account'

got(url, { headers, body, method: 'post', json: true, throwHttpErrors: false })
  .then(req => {
    if (req.statusCode === 200) {
      fixtures[env].token = 'Bearer ' + req.body
      // eslint-disable-next-line no-console
      console.log(JSON.stringify(fixtures, null, 2))
    } else {
      // eslint-disable-next-line no-console
      console.error(url, req.statusCode, req.body)
      process.exit(1)
    }
  })
